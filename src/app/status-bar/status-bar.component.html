<div class="flex flex-col items-center">
  <p class="text-lg font-semibold m-2 text-gray-800">
    {{ isWorkingNow ? 'Working' : 'Not working' }}
  </p>
  <div class="flex gap-x-2">
    @if (stateMachine.canStartWorking()) {
      <button
        (click)="startWorking()"
        class="bg-amber-300 p-2 rounded hover:bg-amber-400"
      >
        Start working
      </button>
    }
    @if (stateMachine.canStopWorking()) {
      <button
        (click)="stopWorking()"
        class="bg-amber-300 p-2 rounded hover:bg-amber-400"
      >
        Stop working
      </button>
    }
    @if (stateMachine.canTakeABreak()) {
      <button
        (click)="takeABreak()"
        class="bg-amber-300 p-2 rounded hover:bg-amber-400"
      >
        Take a break
      </button>
    }
    @if (stateMachine.canFinishBreak()) {
      <button
        (click)="finishBreak()"
        class="bg-amber-300 p-2 rounded hover:bg-amber-400"
      >
        Finish break
      </button>
    }
  </div>
  @if (workedSoFar !== undefined) {
    <p class="text-center pt-4">
      You
      @if (isWorkingNow) {
        have been working for
      } @else {
        have worked
      }
      @if (workedSoFar!.hours && workedSoFar!.hours > 0) {
        {{ workedSoFar!.hours }} hours and
      }
      {{ workedSoFar!.minutes }} minutes.
      <br>
      @if (isWorkingNow && expectedEndTimeOfWork) {
        It looks like you'll finish work at about
        {{ expectedEndTimeOfWork!.hours }}:{{ expectedEndTimeOfWork!.minutes }}.
      }

    </p>
  }
  <app-input-time-modal #inputTimeModal />
</div>
